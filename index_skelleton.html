<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="apple-mobile-web-app-title" content="International.Dance">
		<meta name="color-scheme" content="dark light" />
		<link rel="apple-touch-icon" type="image/png" href="assets/images/pwa/apple-touch-icon.png">
		<link rel="shortcut icon" type="image/x-icon" href="assets/images/pwa/favicon.ico">
		<link rel="mask-icon" type="image/x-icon" href="assets/images/brand/toeshoe.svg">
		<link rel="canonical" href="https://international.dance">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Cinzel:wght@400..900&family=Electrolize&family=Geo:ital@0;1&family=Iceland&family=Lavishly+Yours&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif+Display:ital,wght@0,100..900;1,100..900&family=Odibee+Sans&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Orbitron:wght@400..900&family=Oxanium:wght@200..800&family=Saira+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Sarpanch:wght@400;500;600;700;800;900&family=Teko:wght@300..700&display=swap">
		<link rel="stylesheet" href="assets/css/reset.css">
		<link rel="stylesheet" href="assets/css/themes.css">
		<link rel="stylesheet" href="assets/css/transitions.css">
		<link rel="stylesheet" href="assets/css/layout.css">
		<link rel="stylesheet" href="assets/css/nav.css">
		<link rel="stylesheet" href="assets/css/hero.css">
		<link rel="stylesheet" href="assets/css/carousel.css">
		<!-- <link rel="stylesheet" href="assets/css/cards.css"> -->
		<!-- <link rel="stylesheet" href="assets/css/fonts.css"> -->
		<link rel="stylesheet" href="assets/css/typography.css">
		<link rel="stylesheet" href="assets/css/data-tables.css">
		<link rel="stylesheet" href="assets/css/waves.css">
		<link rel="stylesheet" href="assets/css/responsive.css">
		<title>International.Dance - Happiness Through Dancing!</title>
	</head>

	<body>
		<app-container>

			<header>
				<app-logo></app-logo>
				<app-user></app-user>
			</header>

			<nav role="tablist" aria-label="Navigation">
				<label aria-controls="HOME">
					HOME
					<input type="radio" name="nav" checked>
				</label>
				<label aria-controls="ABOUT">
					ABOUT
					<input type="radio" name="nav">
				</label>
				<label aria-controls="CLASSES">
					CLASSES
					<input type="radio" name="nav">
				</label>
				<label aria-controls="HISTORY">
					HISTORY
					<input type="radio" name="nav">
				</label>
				<label aria-controls="POLICY">
					POLICY
					<input type="radio" name="nav">
				</label>
				<label aria-controls="CONTACT">
					CONTACT
					<input type="radio" name="nav">
				</label>
				<label aria-label="Toggle">
					☰
					<input type="checkbox">
				</label>
			</nav>

			<main>
				<article>
					<section></section>
					<section></section>
					<section></section>
					<section></section>
				</article>
				<article></article>
				<article></article>
				<article></article>
				<article></article>
			</main>
			<footer>
				<app-copy>© 2065 International Dance, LLC.</app-copy>
				<app-social aria-label="Social media bar"></app-social>
			</footer>
		</app-container>
		<script type="module">
		  let tabData;
		
		  async function fetchTabs() {
		    if (tabData) return tabData;
		    const res = await fetch('./data/tabs.json', { cache: 'no-store' });
		    tabData = await res.json();
		    return tabData;
		  }
		
		  async function updateContent(value) {
		    const data = await fetchTabs();
		    const found = data.tabs.find(tab => tab.key === value);
		    if (found) {
		      const article = document.querySelector('main > article > section');
		      // clear existing children then inject new HTML
		      article.replaceChildren();
		      article.insertAdjacentHTML('beforeend', found.body);
		    }
		  }
		
		  // Initial load
		  updateContent(document.querySelector('nav input[name="tab"]:checked').value);
		
		  // Event listener on nav
		  document.querySelector('nav').addEventListener('change', (evt) => {
		    if (evt.target.matches('input[name="tab"]')) {
		      updateContent(evt.target.value);
		    }
		  });
		</script>
	</body>
</html>
